# 标签格式更新说明

## 更新内容

根据您提供的最新标签样式图片，我们已经更新了标签格式以完全匹配您的需求。

## 标签规格

### 尺寸
- **宽度**：80mm (640点 @ 203 DPI)
- **高度**：60mm (480点 @ 203 DPI)

### 布局结构

```
┌─────────────────────────────────────────────────┐
│                                                 │
│  料桶码      285A210115              ┌─────┐   │
│                                      │     │   │
│  料品批次    2024030601              │ QR  │   │
│                                      │Code │   │
│  托盘码      285A210115-18           │     │   │
│                                      │     │   │
│  料品编码    300100-00204            └─────┘   │
│                                                 │
│  料品名称    石英砂                             │
│                                                 │
│  规格型号    HV-8-SBH                          │
│                                                 │
│            圣宝鸿料桶标签                       │
└─────────────────────────────────────────────────┘
```

## 关键特性

### 1. 固定料品名称
- **料品名称固定为"石英砂"**
- 不再从数据库读取item_name字段
- 所有标签统一显示"石英砂"

### 2. 标签布局
- **左侧区域**：6行物料信息
  - 料桶码
  - 料品批次
  - 托盘码
  - 料品编码
  - 料品名称（固定：石英砂）
  - 规格型号

- **右侧区域**：二维码
  - 尺寸：8级（较大）
  - 位置：右上角
  - 内容：料桶码|批次|托盘码|编码

- **底部区域**：标题
  - 文字："圣宝鸿料桶标签"
  - 字体：40号
  - 位置：居中

- **外框**：2点宽边框

### 3. ZPL代码结构

```zpl
^XA
^PW640          ; 设置打印宽度为640点
^LL480          ; 设置标签长度为480点

^FO20,20^GB600,440,2^FS    ; 绘制外框

; 左侧文字信息
^FO30,35^CF0,28^FD料桶码^FS
^FO150,30^CF0,35^FD[数据]^FS

^FO30,80^CF0,28^FD料品批次^FS
^FO150,75^CF0,35^FD[数据]^FS

^FO30,125^CF0,28^FD托盘码^FS
^FO150,120^CF0,35^FD[数据]^FS

^FO30,170^CF0,28^FD料品编码^FS
^FO150,165^CF0,35^FD[数据]^FS

^FO30,215^CF0,28^FD料品名称^FS
^FO150,210^CF0,35^FD石英砂^FS

^FO30,260^CF0,28^FD规格型号^FS
^FO150,255^CF0,35^FD[数据]^FS

; 右侧二维码
^FO450,80^BQN,2,8^FDQA,[数据]^FS

; 底部标题
^FO200,400^CF0,40^FD圣宝鸿料桶标签^FS

^XZ
```

## 字体说明

- **标签字段名**：28号字体（料桶码、料品批次等）
- **数据内容**：35号字体（具体的编号、名称等）
- **底部标题**：40号字体（圣宝鸿料桶标签）

## 二维码说明

### 二维码内容格式
```
料桶码|料品批次|托盘码|料品编码
```

### 示例
```
285A210115|2024030601|285A210115-18|300100-00204
```

### 二维码参数
- **类型**：QR Code
- **纠错级别**：标准
- **放大倍数**：8（较大尺寸）
- **位置**：右上角 (450, 80)

## 与之前版本的差异

### 主要变化

1. **标签尺寸调整**
   - 旧版：不固定尺寸
   - 新版：80mm × 60mm

2. **料品名称**
   - 旧版：从数据库读取 `material.item_name`
   - 新版：固定显示"石英砂"

3. **布局优化**
   - 旧版：标题在顶部
   - 新版：标题在底部居中

4. **二维码尺寸**
   - 旧版：6级（较小）
   - 新版：8级（较大）

5. **外框设计**
   - 旧版：无外框
   - 新版：2点宽边框

## 打印机设置建议

### 标签设置
1. 在打印机设置中配置标签尺寸为 80mm × 60mm
2. 确保打印模式为"撕离模式"（TEAR OFF）
3. 介质类型设置为"间隙/缺口"（GAP/NOTCH）

### 打印质量
- **打印浓度**：+10.0 DARKNESS（根据实际效果调整）
- **打印速度**：6.0 IPS
- **分辨率**：203 DPI

### 校准
建议在更换标签纸后进行打印机校准：
1. 按住打印机的FEED按钮
2. 等待打印机自动校准
3. 校准完成后测试打印

## 测试建议

### 测试步骤
1. 在系统中选择一条物料数据
2. 点击打印预览
3. 查看标签效果是否符合要求
4. 下载ZPL文件
5. 使用Zebra Setup Utilities发送到打印机
6. 检查实际打印效果

### 检查要点
- ✅ 标签尺寸是否为80mm × 60mm
- ✅ 料品名称是否显示为"石英砂"
- ✅ 二维码是否清晰可扫描
- ✅ 文字是否完整显示
- ✅ 外框是否完整
- ✅ 标题是否在底部居中

## 常见问题

### Q1: 为什么料品名称固定为"石英砂"？
A: 根据您的业务需求，所有标签的料品名称统一为"石英砂"，这样可以简化管理并确保一致性。

### Q2: 如果需要修改料品名称怎么办？
A: 如果需要修改，请联系技术人员更新 `src/utils/print.ts` 文件中的 `generateZPL` 函数。

### Q3: 标签尺寸可以调整吗？
A: 可以，但需要修改ZPL代码中的 `^PW` 和 `^LL` 指令，以及所有元素的坐标位置。

### Q4: 二维码扫描不出来怎么办？
A: 可能是打印浓度不够或二维码尺寸太小，可以：
1. 调整打印机浓度设置
2. 增加二维码放大倍数（修改 `^BQN,2,8` 中的最后一个参数）

### Q5: 文字显示不完整怎么办？
A: 检查：
1. 标签纸尺寸是否正确设置为80mm × 60mm
2. 打印机是否已校准
3. ZPL代码中的坐标是否正确

## 技术支持

如有其他问题或需要调整标签格式，请联系技术支持团队。

## 更新日志

- **2025-01-06**：根据新图片更新标签格式
  - 调整标签尺寸为80mm × 60mm
  - 料品名称固定为"石英砂"
  - 优化布局和字体大小
  - 增加外框设计
  - 调整二维码尺寸和位置
